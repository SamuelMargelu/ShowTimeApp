@page "/FestivalList"
@rendermode InteractiveServer
@inject IFestivalService FestivalService
@* <Card Style="min-height:600px"  *@
<Container Fluid>
    <Row>
        <Column>
            <Div Class="d-flex justify-content-between align-items-center mb-4">
                <Heading Class="text-primary" Size="HeadingSize.Is2" TextWeight="TextWeight.Bold">
                    <Icon Name="IconName.Calendar" Margin="Margin.Is2.FromEnd" />
                    Festivals Directory
                </Heading>
            </Div>
        </Column>
    </Row>

    @if (Festivals == null)
    {
        <Row>
            <Column>
                <Div Class="d-flex justify-content-center align-items-center py-5">
                    <Div Class="spinner-border text-primary me-3" role="status">
                        <Span Class="visually-hidden">Loading...</Span>
                    </Div>
                    <Span Class="text-muted">Loading festivals...</Span>
                </Div>
            </Column>
        </Row>
    }
    else if (!Festivals.Any())
    {
        <Row>
            <Column>
                <Div Class="text-center py-5">
                    <Icon Name="IconName.Calendar" Size="IconSize.x5" Class="text-muted mb-3" />
                    <Heading Size="HeadingSize.Is4" Class="text-muted" Margin="Margin.Is2.FromBottom">
                        No Festivals Found
                    </Heading>
                    <Paragraph Class="text-muted" Margin="Margin.Is3.FromBottom">
                        There are no festivals in the directory yet.
                    </Paragraph>
                </Div>
            </Column>
        </Row>
    }
    else
    {
        <Row Class="align-items-stretch">
            @foreach (var festival in Festivals)
            {
                <Column ColumnSize="ColumnSize.Is12.OnMobile.Is6.OnTablet.Is4.OnDesktop" Class="h-100" Margin="Margin.Is4.FromBottom">
                    <Card Style="min-height:600px" Shadow="Shadow.Default" Border="Border.Is0">
                        <CardImage Class="festival-card-img"
                                   Source="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80"
                                   Alt="@($"{festival.Name} cover image")" />
                        <CardBody Class="festival-card-body">
                            <CardTitle Size="5" TextColor="TextColor.Primary" Margin="Margin.Is2.FromBottom">
                                @festival.Name
                            </CardTitle>
                            <Div Margin="Margin.Is2.FromBottom">
                                <Icon Name="IconName.MapMarker" Margin="Margin.Is1.FromEnd" />
                                <span class="text-muted">@festival.Location</span>
                            </Div>
                            <Div Margin="Margin.Is2.FromBottom">
                                <Icon Name="IconName.CalendarDay" Margin="Margin.Is1.FromEnd" />
                                <span class="text-muted">
                                    @festival.StartDate.ToShortDateString() - @festival.EndDate.ToShortDateString()
                                </span>
                            </Div>
                            <Div Margin="Margin.Is2.FromBottom">
                                <Icon Name="IconName.Users" Margin="Margin.Is1.FromEnd" />
                                <span class="text-muted">
                                    Bands: @festival.Bands?.Count ?? 0
                                </span>
                            </Div>
                            <Div>
                                <Icon Name="IconName.TicketAlt" Margin="Margin.Is1.FromEnd" />
                                <span class="text-muted">
                                    Bookings: @festival.Bookings?.Count
                                </span>
                            </Div>
                        </CardBody>
                    </Card>
                </Column>
                <Column ColumnSize="ColumnSize.Is12.OnMobile.Is6.OnTablet.Is4.OnDesktop" Class="h-100" Margin="Margin.Is4.FromBottom">
                    <Card Style="min-height:600px" Shadow="Shadow.Default" Border="Border.Is0">
                        <CardImage Class="festival-card-img"
                                   Source="https://letsenhance.io/static/73136da51c245e80edc6ccfe44888a99/1015f/MainBefore.jpg"
                                   Alt="@($"{festival.Name} cover image")" />
                        <CardBody Class="festival-card-body">
                            <CardTitle Size="5" TextColor="TextColor.Primary" Margin="Margin.Is2.FromBottom">
                                @festival.Name
                            </CardTitle>
                            <Div Margin="Margin.Is2.FromBottom">
                                <Icon Name="IconName.MapMarker" Margin="Margin.Is1.FromEnd" />
                                <span class="text-muted">@festival.Location</span>
                            </Div>
                            <Div Margin="Margin.Is2.FromBottom">
                                <Icon Name="IconName.CalendarDay" Margin="Margin.Is1.FromEnd" />
                                <span class="text-muted">
                                    @festival.StartDate.ToShortDateString() - @festival.EndDate.ToShortDateString()
                                </span>
                            </Div>
                            <Div Margin="Margin.Is2.FromBottom">
                                <Icon Name="IconName.Users" Margin="Margin.Is1.FromEnd" />
                                <span class="text-muted">
                                    Bands: @festival.Bands?.Count ?? 0
                                </span>
                            </Div>
                            <Div>
                                <Icon Name="IconName.TicketAlt" Margin="Margin.Is1.FromEnd" />
                                <span class="text-muted">
                                    Bookings: @festival.Bookings?.Count ?? 0
                                </span>
                            </Div>
                        </CardBody>
                    </Card>
                </Column>
               
            }
        </Row>
    }
</Container>


